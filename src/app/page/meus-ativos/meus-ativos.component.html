<div class="container">
  <div style="display: flex; align-items: end; justify-content: end" class="b">
    <button (click)="openDialogCadastrar()">+Cadastrar Ativo</button>
  </div>

  <div class="dash">
    <canvas #chart></canvas>
  </div>

  <table
    class="table table-dark mt-4 text-center"
    style="width: 113% !important"
  >
    <thead style="background-color: #161819 !important">
      <tr>
        <th scope="col">Tipo de ativo</th>
        <th scope="col" class="pl-5">Nome do ativo</th>
        <th scope="col">Local alocado</th>
        <th scope="col">Nota</th>
        <th scope="col">Recomendado %</th>
        <th scope="col">Valor Sugerido</th>
        <th scope="col" class="text-success font-weight-bold">
          Valor do Ativo
        </th>
        <th scope="col">Quantidade</th>
        <th scope="col">Valor total investido</th>
        <th scope="col">Ação</th>
      </tr>
    </thead>

    <tbody *ngFor="let item of items">
      <tr>
        <td
          [ngClass]="{
            corFundo: item.tipoAtivo === 3,
            fiis: item.tipoAtivo === 1,
            rendaFixa: item.tipoAtivo === 2
          }"
        >
          <div
            style="
              color: #fff;
              background-color: rgb(79, 191, 181);
              border-radius: 20px;
              padding: 2px;
              font-size: 15px;
              width: 129%;
            "
            [style.background-color]="
              item.tipoAtivo === 3
                ? '#4fbfb5'
                : item.tipoAtivo === 1
                ? '#26d5f2'
                : '#529be1'
            "
          >
            {{ item.tipoAtivo | formatTipoAtivo }}
          </div>
        </td>
        <td class="pl-5" style="text-transform: uppercase">{{ item.nome }}</td>
        <td>{{ item.localAlocado }}</td>
        <td>{{ item.nota }}</td>
        <td>{{ item.recomendacaoPorcentagem + "%" }}</td>
        <td>{{ item.sugestaoInvestimento.toFixed(2) }}</td>
        <td class="text-success font-weight-bold">
          {{ item.valorAtualDoAtivo }}
        </td>
        <td>{{ item.quantidadeDeAtivo }}</td>
        <td>{{ item.valorTotalInvestido }}</td>
        <td>
          <button
            type="button"
            (click)="getDadosTabela(item)"
            class="btn btn-primary"
          >
            <i class="bi bi-pencil-square"></i>
          </button>
          <button
            type="button"
            (click)="deletarAtivo(item)"
            class="btn btn-danger ml-1"
          >
            <i class="bi bi-trash3"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="items == 0">
    <p style="color: #ffffff; text-align: center">Nenhum ativo cadastrado</p>
  </div>
</div>
